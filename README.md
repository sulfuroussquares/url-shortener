# URL Shortener

---

This microservice will be able to take in a url to shorten, then provide a JSON-formatted response containing the shortened version of that url, this shortened-version can then
be used to access the website, just as the long-form version would.

The functionality will look something similar to [this](https://url-shortener-microservice.freecodecamp.rocks/).

---

---

### User Stories

| Story                                                         | Completed? |
| ------------------------------------------------------------- | ---------- |
| I can access a landing page with a description of the service | **YES**    |
| The service receives a url to shorten                         | **YES**    |
| The service provides a shortened version of the provided url  | **NO**     |

---

### Implementation

I should implement a basic form to allow users to enter their requested website.

The concept that comes to mind when viewing the boilerplate is that of _hashing_. In a **hash table** or **hash map**, we can take a value, then apply some sort
of mathematical formula to alter that value, then use that same formula to find the stored location of that value in an array (or array + linked list) type of structure.

Here, we can take a value (such as a url to shorten), apply some sort of calculation to it, then return a result which makes sense to our algorithm that allows us to obtain the original
url when accessed.

#### First thing's first

We have a basic form on our HTML landing page. What we need is a way to send/receive what is in the textbox in order to maniuplate it.

I used the **body-parser** npm module, which allows for [parsing a request body](https://nodejs.org/en/docs/guides/anatomy-of-an-http-transaction/#request-body).
In this way, the form on the HTML landing page submits a value that is then retrieved and passed to a middleware function in express.

After successfully retrieving the url entered by the user (and displaying this in a JSON-formatted response), the next step is to take this value, apply some sort of hashing algorithm to it,
then return the obfuscated response to the user. The system we build should be able to link the obfuscated response to the original value.

#### To Hash or not to Hash

I could have easily picked a common hashing algorithm to implement, but instead remembered that MongoDB assigns a unique identifier
for every object stored. This acts as a _primary key_ (in RDBMS parlance), but also has the perk of being highly unlikely to result in a
collision due to the nature of how the ID's are generated ([more here](https://docs.mongodb.com/manual/reference/bson-types/#objectid)).

Each shortened url generated by this service uses a function if its assigned MongoDB object id. The database itself holds each link submitted,
as well as its corresponding objectId (generated by the database), and a shortened reference which is a subset of the objectId.

---

#### Credit

The idea for this project (and base fork boilerplate with no functionality) comes from [FreeCodeCamp](https://www.freecodecamp.org/).  
I used [Glitch](https://glitch.com/) as a quick way to build/test a Node-based webapp without having to set up a local repository on my machine.

##### [URL Shortener Microservice](https://www.freecodecamp.org/learn/apis-and-microservices/apis-and-microservices-projects/url-shortener-microservice)
